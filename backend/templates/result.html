<!DOCTYPE html>
<html>
<head>
    <title>Prediction Results</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #121212;
            color: #f5f5f5;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }
        .container {
            max-width: 600px;
            width: 100%;
            padding: 20px;
            border-radius: 10px;
            background: #1e1e1e;
            box-shadow: 0 0 15px rgba(0,0,0,0.5);
            text-align: center;
        }
        h2 {
            color: #2196f3;
            margin-bottom: 10px;
        }
        ul {
            list-style: none;
            padding: 0;
            text-align: left;
        }
        li {
            margin: 8px 0;
        }
        .final {
            margin-top: 20px;
            font-size: 20px;
            font-weight: bold;
            color: #4caf50;
        }
        .final.rejected {
            color: #f44336;
        }
        .explanation-box {
            margin-top: 20px;
            text-align: left;
            background: #2c2c2c;
            padding: 15px;
            border-radius: 8px;
            line-height: 1.6;
        }
        .explanation-box h3 {
            color: #ffc107;
            margin-top: 0;
        }
        .tx-link {
            display: block;
            margin-top: 15px;
            font-size: 14px;
            color: #ffc107;
            word-wrap: break-word;
        }
        .tx-link a {
            color: #ffc107;
            text-decoration: underline;
        }
        a.back-btn {
            display: inline-block;
            margin-top: 20px;
            padding: 10px 15px;
            background: #2196f3;
            color: white;
            border-radius: 6px;
            text-decoration: none;
        }
        a.back-btn:hover {
            background: #1976d2;
        }
    </style>
</head>
<body>
    <div class="container">
        <h2>Loan Prediction Results</h2>
        <ul>
            {% for model, result in predictions.items() %}
                <li><strong>{{ model }}</strong>: {{ result.prediction }} (Accuracy: {{ result.accuracy }}%)</li>
            {% endfor %}
        </ul>

        <div class="final {% if 'Rejected' in final %}rejected{% endif %}">
            Final Decision: {{ final }}
        </div>

        <div class="explanation-box">
            <h3>Result Explanation üìù</h3>
            <p>
                The above results are generated by multiple machine learning models trained on loan application data. 
                Each model analyzes your provided financial and personal details, such as income, credit score, and assets, 
                to predict whether your loan should be approved or rejected.
            </p>
            <p>
                The system chooses the <strong>most accurate model</strong> to make the final decision. 
                This ensures the prediction is as reliable as possible, based on the training data.
            </p>
            <p>
                Once the decision is made, it is <strong>securely stored on the blockchain</strong>. 
                This provides transparency and allows you to verify the transaction anytime.
            </p>
        </div>

        {% if tx_hash %}
            <div class="tx-link">
                Blockchain Tx: 
                <a href="https://sepolia.etherscan.io/tx/{{ tx_hash }}" target="_blank">{{ tx_hash }}</a>
            </div>
        {% endif %}

        <a href="/" class="back-btn">Go Back</a>
    </div>
</body>
</html>



